<!DOCTYPE html>
<html lang="en">





<head>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <meta property="og:title" content="Pwnagotchi 01" />
<meta property="og:description" content="So, I decided to start with a simple (outside from comfort zone) project during my &ldquo;funemployment&rdquo; time and found pwnagotchi on my todo list (which is quite huge)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://luisuribe.github.io/post/pwnagotchi-01/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-08-31T18:27:47-05:00" />
<meta property="article:modified_time" content="2021-11-02T11:25:32-05:00" /><meta property="og:site_name" content="Luis Uribe - blog" />

  <meta itemprop="name" content="Pwnagotchi 01">
<meta itemprop="description" content="So, I decided to start with a simple (outside from comfort zone) project during my &ldquo;funemployment&rdquo; time and found pwnagotchi on my todo list (which is quite huge)."><meta itemprop="datePublished" content="2021-08-31T18:27:47-05:00" />
<meta itemprop="dateModified" content="2021-11-02T11:25:32-05:00" />
<meta itemprop="wordCount" content="314">
<meta itemprop="keywords" content="" />
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pwnagotchi 01"/>
<meta name="twitter:description" content="So, I decided to start with a simple (outside from comfort zone) project during my &ldquo;funemployment&rdquo; time and found pwnagotchi on my todo list (which is quite huge)."/>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
    Pwnagotchi 01
    
  </title>
  <link rel="stylesheet" href='https://luisuribe.github.io/css/site.min.css'>
  <link rel="canonical" href="https://luisuribe.github.io/post/pwnagotchi-01/">
  <link rel="alternate" type="application/rss&#43;xml" href="https://luisuribe.github.io/index.xml" title="luisuribe">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <meta name="author" content="Luis Uribe">
  <meta name="description" content="So, I decided to start with a simple (outside from comfort zone) project during my &ldquo;funemployment&rdquo; time and found pwnagotchi on my todo list (which is quite huge).">
</head>
<body><nav class="navbar is-transparent " role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://luisuribe.github.io/">
      <figure class="image">
        <img alt="" class="is-rounded" src="https://www.gravatar.com/avatar/cd3838fa3b53b8d704cf08209f4a62e1?s=128&d=identicon">
      </figure>
    </a>
    <a class="navbar-item" href="https://luisuribe.github.io/">
      luisuribe
    </a>
  </div>

  <div class="navbar-menu">
    <div class="navbar-start">
      
    </div>

    <div class="navbar-end">
      <a class="navbar-item" href="/" rel="noopener" target="_blank">
        blog
      </a>
      <a class="navbar-item" href="/labs" rel="noopener" target="_blank">
        labs
      </a>
      <a class="navbar-item" href="/about" rel="noopener" target="_blank">
        about
      </a>

      
      <a class="navbar-item" href="https://github.com/luisuribe/" rel="noopener" target="_blank">
        <span class="icon">
          
            <img alt="icons/svg/github.svg" src='https://luisuribe.github.io/icons/svg/github.svg'>
          
        </span>
      </a>
      
      <a class="navbar-item" href="https://gitlab.com/luisuribe/" rel="noopener" target="_blank">
        <span class="icon">
          
            <img alt="icons/svg/gitlab.svg" src='https://luisuribe.github.io/icons/svg/gitlab.svg'>
          
        </span>
      </a>
      
      <a class="navbar-item" href="https://www.linkedin.com/in/luribe/" rel="noopener" target="_blank">
        <span class="icon">
          
            <img alt="icons/svg/linkedin.svg" src='https://luisuribe.github.io/icons/svg/linkedin.svg'>
          
        </span>
      </a>
      
      <a class="navbar-item" href="https://luisuribe.github.io/index.xml" target="_blank">
        <span class="icon">
          <img alt="rss" src='https://luisuribe.github.io/icons/svg/rss.svg'>
        </span>
      </a>
      
    </div>
  </div>
</nav>

  <section>
    <section class='hero is-small is-info is-fullwidth'>
      <div class="hero-body">
<div class="container">
  <h1 class="title">
    Pwnagotchi 01
  </h1>
  <h2 class="subtitle">
    <time datetime='2021-08-31T18:27:47-05:00'>
      August 31, 2021
    </time>
    
  </h2>
</div>

      </div>
    </section>
    <section class="section">
      <div class="container">
<div class="content is-medium">
  <p>So, I decided to start with a simple (outside from comfort zone) project during my &ldquo;funemployment&rdquo; time and found pwnagotchi on my todo list (which is quite huge). After some reading I bought an rpi zero and a waveshare 2.1 display, along with one SD card. First mistake was to select the Vilros kit in amazon because it doesn&rsquo;t have the 40 pins solded. Also Amazon suggests to add the display and it ended became a v3, instead of the v2 that was on the images.</p>
<p>Hence, as a side project, I had to soldier the pins, which was somehow easy, given my lack of expertise. And I ended with a new soldering iron and some equipment.</p>
<figure><img src="/images/IMG_1251.jpg"
         alt="rpi zero soldering"/>
</figure>

<p>Setting up the pwnagotchi was simple, just follow the instructions, install, configure and power on. However the display didnt work, and after some googling I just found that the v3 version is not supported.</p>
<p>The display (and soldering) was ok, I could check that it was working with the <a href="https://github.com/waveshare/e-Paper/blob/master/RaspberryPi_JetsonNano/python/examples/epd_2in13_V2_test.py">example</a> located on the github repo:</p>
<p>Just clone the repo, and run <code>python3 epd_2in13_V2_test.py</code></p>
<p>Later, I found some <a href="https://www.reddit.com/r/pwnagotchi/comments/ii16k6/waveshare_213_epaper_hat_v3/g34g4zt/">reddit thread</a> with instructions to use that display (copying them here, just for reference):</p>
<p>Then:</p>
<ul>
<li>Use <code>&quot;waveshare213d&quot;</code> in <code>config.toml</code></li>
<li>Modify <code>/usr/local/lib/python3.7/dist-packages/pwnagotchi/plugins/default/ups_lite.py</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">on_ui_setup</span>(self, ui):
</span></span><span style="display:flex;"><span>        ui<span style="color:#f92672">.</span>add_element(<span style="color:#e6db74">&#39;ups&#39;</span>, LabeledValue(color<span style="color:#f92672">=</span>BLACK, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;UPS&#39;</span>, value<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;0%/0V&#39;</span>, position<span style="color:#f92672">=</span>(ui<span style="color:#f92672">.</span>width() <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>),
</span></span><span style="display:flex;"><span>                                           label_font<span style="color:#f92672">=</span>fonts<span style="color:#f92672">.</span>Bold, text_font<span style="color:#f92672">=</span>fonts<span style="color:#f92672">.</span>Medium))
</span></span></code></pre></div><ul>
<li>Modify <code>/usr/local/lib/python3.7/dist-packages/pwnagotchi/plugins/default/memtemp.py</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">on_ui_setup</span>(self, ui):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ui<span style="color:#f92672">.</span>is_waveshare_v2():
</span></span><span style="display:flex;"><span>            h_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">180</span>, <span style="color:#ae81ff">80</span>)
</span></span><span style="display:flex;"><span>            v_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">180</span>, <span style="color:#ae81ff">61</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> ui<span style="color:#f92672">.</span>is_waveshare_v1():
</span></span><span style="display:flex;"><span>            h_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">170</span>, <span style="color:#ae81ff">80</span>)
</span></span><span style="display:flex;"><span>            v_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">170</span>, <span style="color:#ae81ff">61</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> ui<span style="color:#f92672">.</span>is_waveshare144lcd():
</span></span><span style="display:flex;"><span>            h_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">53</span>, <span style="color:#ae81ff">77</span>)
</span></span><span style="display:flex;"><span>            v_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">78</span>, <span style="color:#ae81ff">67</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> ui<span style="color:#f92672">.</span>is_inky():
</span></span><span style="display:flex;"><span>            h_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">140</span>, <span style="color:#ae81ff">68</span>)
</span></span><span style="display:flex;"><span>            v_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">165</span>, <span style="color:#ae81ff">54</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> ui<span style="color:#f92672">.</span>is_waveshare27inch():
</span></span><span style="display:flex;"><span>            h_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">192</span>, <span style="color:#ae81ff">138</span>)
</span></span><span style="display:flex;"><span>            v_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">216</span>, <span style="color:#ae81ff">122</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            h_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">140</span>, <span style="color:#ae81ff">68</span>)
</span></span><span style="display:flex;"><span>            v_pos <span style="color:#f92672">=</span> (<span style="color:#ae81ff">175</span>, <span style="color:#ae81ff">54</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>options[<span style="color:#e6db74">&#39;orientation&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;vertical&#34;</span>:
</span></span><span style="display:flex;"><span>            ui<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#39;memtemp&#39;</span>,
</span></span><span style="display:flex;"><span>                   <span style="color:#e6db74">&#34; mem:</span><span style="color:#e6db74">%s%%</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> cpu:</span><span style="color:#e6db74">%s%%</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> temp:</span><span style="color:#e6db74">%s%s</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">%</span> (self<span style="color:#f92672">.</span>mem_usage(), self<span style="color:#f92672">.</span>cpu_load(), temp, symbol))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># default to horizontal</span>
</span></span><span style="display:flex;"><span>            ui<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#39;memtemp&#39;</span>,
</span></span><span style="display:flex;"><span>                   <span style="color:#e6db74">&#34; mem cpu temp</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> </span><span style="color:#e6db74">%s%%</span><span style="color:#e6db74"> </span><span style="color:#e6db74">%s%%</span><span style="color:#e6db74"> </span><span style="color:#e6db74">%s%s</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">%</span> (self<span style="color:#f92672">.</span>mem_usage(), self<span style="color:#f92672">.</span>cpu_load(),
</span></span></code></pre></div><p>And voil√°</p>
<figure><img src="/images/IMG_1572.jpg"
         alt="pwnagotchi running"/>
</figure>


</div>


      </div>
    </section>
  </section><footer class="footer">


  <div class="content has-text-centered">
    
    <p>
      Last modified November 02, 2021 | template based on <a href="https://github.com/orf/bare-hugo-theme" target="_blank">Bare Hugo theme.</a>
    </p>
    

  </div>
</footer>


</body>
</html>
